import{A as i}from"./assets/AjaxProvider-DIG5l2G9.js";class a extends EventTarget{constructor(e={}){super(),this.url="",this._assignConfig(e)}_assignConfig(e){e&&typeof e=="object"&&Object.assign(this,e)}async getCurrencies(){try{const t=await new i({url:this.url}).generateRequest(),{currencies:r}=t.response;return this._dispatchEvent("success-currency",{currencies:r}),r}catch(e){throw this._dispatchEvent("error-currency",{error:e}),e}}async getCurrenciesFromCountryCode(e){const r=(await this.getCurrencies()||[]).find(s=>{const{countries:c}=s;return c.some(n=>n.code===e)});return this._dispatchEvent("success-currency-from-country-code",{currency:r}),r}_dispatchEvent(e,t){this.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))}}export{a as DmCurrencies};
