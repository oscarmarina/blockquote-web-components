var ge=Object.defineProperty;var ve=(t,e,r)=>e in t?ge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var u=(t,e,r)=>(ve(t,typeof e!="symbol"?e+"":e,r),r);import{e as xe,a as we,t as Ee,T as Pe,i as je,s as _e,x as S}from"./directive-2752aa4a.js";/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Te=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(r){r.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(r){r.createProperty(e.key,t)}},Se=(t,e,r)=>{e.constructor.createProperty(r,t)};function ce(t){return(e,r)=>r!==void 0?Se(t,e,r):Te(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Ae(t){return ce({...t,state:!0})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var U;((U=window.HTMLSlotElement)===null||U===void 0?void 0:U.prototype.assignedElements)!=null;/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ke=xe(class extends we{constructor(t){var e;if(super(t),t.type!==Ee.ATTRIBUTE||t.name!=="class"||((e=t.strings)===null||e===void 0?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var r,n;if(this.it===void 0){this.it=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(o=>o!=="")));for(const o in e)e[o]&&!(!((r=this.nt)===null||r===void 0)&&r.has(o))&&this.it.add(o);return this.render(e)}const i=t.element.classList;this.it.forEach(o=>{o in e||(i.remove(o),this.it.delete(o))});for(const o in e){const s=!!e[o];s===this.it.has(o)||!((n=this.nt)===null||n===void 0)&&n.has(o)||(s?(i.add(o),this.it.add(o)):(i.remove(o),this.it.delete(o)))}return Pe}});function oe(t,e,r,n){var i,o=arguments.length,s=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function $e(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(c){try{h(n.next(c))}catch(f){o(f)}}function a(c){try{h(n.throw(c))}catch(f){o(f)}}function h(c){var f;c.done?i(c.value):(f=c.value,f instanceof r?f:new r(function(b){b(f)})).then(s,a)}h((n=n.apply(t,e||[])).next())})}function N(t){return t===null?"null":Array.isArray(t)?"array":t.constructor.name.toLowerCase()}function ue(t){return t!==Object(t)}function de(t){return!!t&&!!t.nodeType}function H(t){return ue(t)||de(t)}function*G(t){const e=[[t,"",[]]];for(;e.length;){const[r,n,i]=e.shift();if(n&&(yield[r,n,i]),!ue(r))for(const[o,s]of Object.entries(r))e.push([s,`${n}${n?".":""}${o}`,[...i,n]])}}const Ce={fromAttribute:t=>t&&t.trim()?JSON.parse(t):void 0,toAttribute:t=>JSON.stringify(t)},I=t=>t!==void 0,fe=(t,e)=>e instanceof RegExp?!!t.match(e):function(r,n){const i=r.split("."),o=n.split("."),s=c=>c==="**";let a=0,h=0;for(;a<i.length;){const c=o[h];if(c===i[a]||c==="*")h++,a++;else{if(!s(c))return!1;h++,a=i.length-(o.length-h)}}return h===o.length}(t,e),C=(t,e)=>(r,n)=>{const i={};if(t)for(const[,o,s]of G(n.data))fe(o,t)&&(i[o]=e,s.forEach(a=>i[a]=e));return{expanded:i}},ie=t=>()=>({highlight:t}),Oe=je`:host{--background-color:#2a2f3a;--color:#f8f8f2;--string-color:#a3eea0;--number-color:#d19a66;--boolean-color:#4ba7ef;--null-color:#df9cf3;--property-color:#6fb3d2;--preview-color:rgba(222,175,143,0.9);--highlight-color:#7b0000;--font-family:monaco,Consolas,'Lucida Console',monospace;--font-size:1rem;--indent-size:1.5em;--indentguide-size:1px;--indentguide-style:solid;--indentguide-color:#333;--indentguide-color-active:#666;--indentguide:var(--indentguide-size) var(--indentguide-style) var(--indentguide-color);--indentguide-active:var(--indentguide-size) var(--indentguide-style) var(--indentguide-color-active);display:block;background-color:var(--background-color);color:var(--color);font-family:var(--font-family);font-size:var(--font-size)}.preview{color:var(--preview-color)}.null{color:var(--null-color)}.key{color:var(--property-color);display:inline-block}.collapsable:before{display:inline-block;color:var(--color);font-size:.8em;content:'â–¶';line-height:1em;width:1em;height:1em;text-align:center;transition:transform 195ms ease-out;transform:rotate(90deg);color:var(--property-color)}.collapsable.collapsableCollapsed:before{transform:rotate(0)}.collapsable{cursor:pointer;user-select:none}.string{color:var(--string-color)}.number{color:var(--number-color)}.boolean{color:var(--boolean-color)}ul{padding:0;clear:both}ul,li{list-style:none;position:relative}li ul>li{position:relative;margin-left:var(--indent-size);padding-left:0}ul ul:before{content:'';border-left:var(--indentguide);position:absolute;left:calc(0.5em - var(--indentguide-size));top:.3em;bottom:.3em}ul ul:hover:before{border-left:var(--indentguide-active)}mark{background-color:var(--highlight-color)}`;class O extends _e{constructor(){super(...arguments),this.state={expanded:{},filtered:{},highlight:null},this.handlePropertyClick=e=>r=>{r.preventDefault(),this.setState(((n,i)=>o=>({expanded:Object.assign(Object.assign({},o.expanded),{[n]:I(i)?!!i:!o.expanded[n]})}))(e))}}setState(e){return $e(this,void 0,void 0,function*(){const r=this.state;this.state=Object.assign(Object.assign({},r),e(r,this))})}connectedCallback(){this.hasAttribute("data")||I(this.data)||this.setAttribute("data",this.innerText),super.connectedCallback()}expand(e){this.setState(C(e,!0))}expandAll(){this.setState(C("**",!0))}collapseAll(){this.setState(C("**",!1))}collapse(e){this.setState(C(e,!1))}*search(e){for(const[r,n]of G(this.data))H(r)&&String(r).includes(e)&&(this.expand(n),this.updateComplete.then(()=>{const i=this.shadowRoot.querySelector(`[data-path="${n}"]`);i.scrollIntoView({behavior:"smooth",inline:"center",block:"center"}),i.focus()}),this.setState(ie(n)),yield{value:r,path:n});this.setState(ie(null))}filter(e){var r;this.setState((r=e,(n,i)=>{const o={};if(r)for(const[,s,a]of G(i.data))fe(s,r)?(o[s]=!1,a.forEach(h=>o[h]=!1)):o[s]=!0;return{filtered:o}}))}resetFilter(){this.setState(()=>({filtered:{}}))}renderObject(e,r){return S`<ul part="object">${Object.keys(e).map(n=>{const i=e[n],o=r?`${r}.${n}`:n,s=H(i);return S`<li part="property" data-path="${o}" .hidden="${this.state.filtered[o]}"><span part="key" class="${ke({key:n,collapsable:!s,collapsableCollapsed:!this.state.expanded[o]})}" @click="${s?null:this.handlePropertyClick(o)}">${n}: </span>${this.renderNode(i,o)}</li>`})}</ul>`}renderNode(e,r=""){const n=H(e);return!r||this.state.expanded[r]||n?n?this.renderPrimitive(e,r):this.renderObject(e,r):this.renderNodePreview(e)}renderNodePreview(e){return S`<span part="preview" class="preview">${function(r,{nodeCount:n=3,maxLength:i=15}={}){const o=Array.isArray(r),s=Object.keys(r),a=s.slice(0,n),h=[],c=m=>{switch(N(m)){case"object":return Object.keys(m).length===0?"{ }":"{ ... }";case"array":return m.length===0?"[ ]":"[ ... ]";case"string":return`"${m.substring(0,i)}${m.length>i?"...":""}"`;default:return String(m)}},f=[];for(const m of a){const g=[],d=r[m];o||g.push(`${m}: `),g.push(c(d)),f.push(g.join(""))}s.length>n&&f.push("..."),h.push(f.join(", "));const b=h.join("");return o?`[ ${b} ]`:`{ ${b} }`}(e)}</span>`}renderPrimitive(e,r){const n=this.state.highlight,i=N(e),o=de(e)?e:S`<span part="primitive primitive-${i}" tabindex="0" class="${N(e)}">${JSON.stringify(e)}</span>`;return r===n?S`<mark part="highlight">${o}</mark>`:o}render(){const e=this.data;return I(e)?this.renderNode(e):null}}O.styles=[Oe],oe([ce({converter:Ce,type:Object})],O.prototype,"data",void 0),oe([Ae()],O.prototype,"state",void 0);customElements.define("json-viewer",O);const he=new WeakMap;function Re(t,e){let r=e;for(;r;){if(he.get(r)===t)return!0;r=Object.getPrototypeOf(r)}return!1}function Le(t){return e=>{if(Re(t,e))return e;const r=t(e);return he.set(r,t),r}}function v(t){return typeof t=="function"}class q extends Error{constructor(r){super(r?`${r.length} errors occurred during unsubscription:
${r.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"");u(this,"errors");this.errors=r,this.name="UnsubscriptionError"}}const L=class L{constructor(e){u(this,"initialTeardown");u(this,"closed",!1);u(this,"_finalizers",null);this.initialTeardown=e}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{initialTeardown:r}=this;if(v(r))try{r()}catch(i){e=i instanceof q?i.errors:[i]}const{_finalizers:n}=this;if(n){this._finalizers=null;for(const i of n)try{se(i)}catch(o){e=e!=null?e:[],o instanceof q?e.push(...o.errors):e.push(o)}}if(e)throw new q(e)}}add(e){var r;e&&e!==this&&(this.closed?se(e):(e&&"add"in e&&e.add(()=>{this.remove(e)}),(r=this._finalizers)!=null||(this._finalizers=new Set),this._finalizers.add(e)))}remove(e){var r;(r=this._finalizers)==null||r.delete(e)}};u(L,"EMPTY",(()=>{const e=new L;return e.closed=!0,e})());let k=L;typeof Symbol.dispose=="symbol"&&(k.prototype[Symbol.dispose]=k.prototype.unsubscribe);function se(t){v(t)?t():t.unsubscribe()}const pe={onUnhandledError:null,onStoppedNotification:null},R={setTimeout(t,e,...r){const{delegate:n}=R;return n!=null&&n.setTimeout?n.setTimeout(t,e,...r):setTimeout(t,e,...r)},clearTimeout(t){const{delegate:e}=R;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function A(t){R.setTimeout(()=>{const{onUnhandledError:e}=pe;if(e)e(t);else throw t})}const ze=(()=>V("C",void 0,void 0))();function De(t){return V("E",void 0,t)}function Ue(t){return V("N",t,void 0)}function V(t,e,r){return{kind:t,value:e,error:r}}class _ extends k{constructor(r,n){var i,o,s,a;super();u(this,"isStopped",!1);u(this,"destination");u(this,"_nextOverride",null);u(this,"_errorOverride",null);u(this,"_completeOverride",null);u(this,"_onFinalize",null);this.destination=r instanceof _?r:Fe(r),this._nextOverride=(i=n==null?void 0:n.next)!=null?i:null,this._errorOverride=(o=n==null?void 0:n.error)!=null?o:null,this._completeOverride=(s=n==null?void 0:n.complete)!=null?s:null,this._onFinalize=(a=n==null?void 0:n.finalize)!=null?a:null,this._next=this._nextOverride?Ne:this._next,this._error=this._errorOverride?He:this._error,this._complete=this._completeOverride?Ie:this._complete,Be(r)&&r.add(this)}next(r){this.isStopped?F(Ue(r),this):this._next(r)}error(r){this.isStopped?F(De(r),this):(this.isStopped=!0,this._error(r))}complete(){this.isStopped?F(ze,this):(this.isStopped=!0,this._complete())}unsubscribe(){var r;this.closed||(this.isStopped=!0,super.unsubscribe(),(r=this._onFinalize)==null||r.call(this))}_next(r){this.destination.next(r)}_error(r){try{this.destination.error(r)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}function Ne(t){try{this._nextOverride(t)}catch(e){this.destination.error(e)}}function He(t){try{this._errorOverride(t)}catch(e){this.destination.error(e)}finally{this.unsubscribe()}}function Ie(){try{this._completeOverride()}catch(t){this.destination.error(t)}finally{this.unsubscribe()}}class qe{constructor(e){u(this,"partialObserver");this.partialObserver=e}next(e){const{partialObserver:r}=this;if(r.next)try{r.next(e)}catch(n){A(n)}}error(e){const{partialObserver:r}=this;if(r.error)try{r.error(e)}catch(n){A(n)}else A(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(r){A(r)}}}function Fe(t){return new qe(!t||v(t)?{next:t!=null?t:void 0}:t)}function F(t,e){const{onStoppedNotification:r}=pe;r&&R.setTimeout(()=>r(t,e))}function Be(t){return t&&v(t.unsubscribe)&&v(t.add)}function W({destination:t,...e}){return new _(t,e)}const X=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function me(t){return t}function Me(t){return t.length===0?me:t.length===1?t[0]:function(r){return t.reduce((n,i)=>i(n),r)}}class w{constructor(e){e&&(this._subscribe=e)}subscribe(e){const r=e instanceof _?e:new _(e);return r.add(this._trySubscribe(r)),r}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e){return new Promise((r,n)=>{const i=new _({next:o=>{try{e(o)}catch(s){n(s),i.unsubscribe()}},error:n,complete:r});this.subscribe(i)})}_subscribe(e){}[X](){return this}pipe(...e){return Me(e)(this)}[Symbol.asyncIterator](){let e,r=!1,n,i=!1;const o=[],s=[],a=c=>{for(r=!0,n=c;s.length;){const[f,b]=s.shift();b(c)}},h=()=>{for(i=!0;s.length;){const[c]=s.shift();c({value:void 0,done:!0})}};return{next:()=>(e||(e=this.subscribe({next:c=>{if(s.length){const[f]=s.shift();f({value:c,done:!1})}else o.push(c)},error:a,complete:h})),o.length?Promise.resolve({value:o.shift(),done:!1}):i?Promise.resolve({value:void 0,done:!0}):r?Promise.reject(n):new Promise((c,f)=>{s.push([c,f])})),throw:c=>(e==null||e.unsubscribe(),a(c),Promise.reject(c)),return:()=>(e==null||e.unsubscribe(),h(),Promise.resolve({value:void 0,done:!0})),[Symbol.asyncIterator](){return this}}}}const Ge=t=>t&&typeof t.length=="number"&&typeof t!="function";function Je(t){return v(t==null?void 0:t.then)}function Ve(t){return v(t[X])}function We(t){return Symbol.asyncIterator&&v(t==null?void 0:t[Symbol.asyncIterator])}function Xe(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Ye(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}const Ke=Ye();function Qe(t){return v(t==null?void 0:t[Ke])}async function*Ze(t){const e=t.getReader();try{for(;;){const{value:r,done:n}=await e.read();if(n)return;yield r}}finally{e.releaseLock()}}function et(t){return v(t==null?void 0:t.getReader)}function tt(t){if(t instanceof w)return t;if(t!=null){if(Ve(t))return rt(t);if(Ge(t))return nt(t);if(Je(t))return ot(t);if(We(t))return ye(t);if(Qe(t))return it(t);if(et(t))return st(t)}throw Xe(t)}function rt(t){return new w(e=>{const r=t[X]();if(v(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function nt(t){return new w(e=>{lt(t,e)})}function ot(t){return new w(e=>{t.then(r=>{e.closed||(e.next(r),e.complete())},r=>e.error(r)).then(null,A)})}function it(t){return new w(e=>{for(const r of t)if(e.next(r),e.closed)return;e.complete()})}function ye(t){return new w(e=>{at(t,e).catch(r=>e.error(r))})}function st(t){return ye(Ze(t))}async function at(t,e){for await(const r of t)if(e.next(r),e.closed)return;e.complete()}function lt(t,e){const r=t.length;for(let n=0;n<r;n++){if(e.closed)return;e.next(t[n])}e.complete()}class ct extends Error{constructor(){super("no elements in sequence"),this.name="EmptyError"}}function ut(t,e){const r=typeof e=="object";return new Promise((n,i)=>{let o=!1,s;t.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?n(s):r?n(e.defaultValue):i(new ct)}})})}function dt(t){return e=>new w(r=>{let n=0;e.subscribe(W({destination:r,next:i=>{r.next(t(i,n++))}}))})}function be(t){return e=>new w(r=>{let n=null,i=!1,o;n=e.subscribe(W({destination:r,error:s=>{o=tt(t(s,be(t)(e))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0}})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}function ft(t){const e=v(t)?{next:t}:t;return e?r=>new w(n=>{var o;(o=e.subscribe)==null||o.call(e);let i=!0;r.subscribe(W({destination:n,next:s=>{var a;(a=e.next)==null||a.call(e,s),n.next(s)},error:s=>{var a;i=!1,(a=e.error)==null||a.call(e,s),n.error(s)},complete:()=>{var s;i=!1,(s=e.complete)==null||s.call(e),n.complete()},finalize:()=>{var s,a;i&&((s=e.unsubscribe)==null||s.call(e)),(a=e.finalize)==null||a.call(e)}}))}):me}class ht{constructor(e,r,n,i="download_load"){u(this,"originalEvent");u(this,"xhr");u(this,"request");u(this,"type");u(this,"status");u(this,"response");u(this,"responseType");u(this,"loaded");u(this,"total");u(this,"responseHeaders");this.originalEvent=e,this.xhr=r,this.request=n,this.type=i;const{status:o,responseType:s}=r;this.status=o!=null?o:0,this.responseType=s!=null?s:"";const a=r.getAllResponseHeaders();this.responseHeaders=a?a.split(`
`).reduce((f,b)=>{const m=b.indexOf(": ");return f[b.slice(0,m)]=b.slice(m+2),f},{}):{},this.response=r.response;const{loaded:h,total:c}=e;this.loaded=h,this.total=c}}class J extends Error{constructor(r,n,i){super(r);u(this,"xhr");u(this,"request");u(this,"status");u(this,"responseType");u(this,"response");this.name="AjaxError",this.xhr=n,this.request=i,this.status=n.status,this.responseType=n.responseType,this.response=n.response}}class pt extends J{constructor(e,r){super("ajax timeout",e,r),this.name="AjaxTimeoutError"}}function mt(t,e){return j({method:"GET",url:t,headers:e})}function yt(t,e,r){return j({method:"POST",url:t,body:e,headers:r})}function bt(t,e){return j({method:"DELETE",url:t,headers:e})}function gt(t,e,r){return j({method:"PUT",url:t,body:e,headers:r})}function vt(t,e,r){return j({method:"PATCH",url:t,body:e,headers:r})}const xt=dt(t=>t.response);function wt(t,e){return xt(j({method:"GET",url:t,headers:e}))}const j=(()=>{const t=e=>Pt(typeof e=="string"?{url:e}:e);return t.get=mt,t.post=yt,t.delete=bt,t.put=gt,t.patch=vt,t.getJSON=wt,t})(),Et="upload",ae="download",B="loadstart",M="progress",le="load";function Pt(t){return new w(e=>{var Z,ee;const r={async:!0,crossDomain:!1,withCredentials:!1,method:"GET",timeout:0,responseType:"json",...t},{queryParams:n,body:i,headers:o}=r;let s=r.url;if(!s)throw new TypeError("url is required");if(n){let l;if(s.includes("?")){const T=s.split("?");if(2<T.length)throw new TypeError("invalid url");l=new URLSearchParams(T[1]),new URLSearchParams(n).forEach((D,$)=>l.set($,D)),s=T[0]+"?"+l}else l=new URLSearchParams(n),s=s+"?"+l}const a={};if(o)for(const l in o)o.hasOwnProperty(l)&&(a[l.toLowerCase()]=o[l]);const h=r.crossDomain;!h&&!("x-requested-with"in a)&&(a["x-requested-with"]="XMLHttpRequest");const{withCredentials:c,xsrfCookieName:f,xsrfHeaderName:b}=r;if((c||!h)&&f&&b){const l=(ee=(Z=document==null?void 0:document.cookie.match(new RegExp(`(^|;\\s*)(${f})=([^;]*)`)))==null?void 0:Z.pop())!=null?ee:"";l&&(a[b]=l)}const m=jt(i,a),g={...r,url:s,headers:a,body:m};let d;d=t.createXHR?t.createXHR():new XMLHttpRequest;{const{progressSubscriber:l,includeDownloadProgress:T=!1,includeUploadProgress:D=!1}=t,$=(p,y)=>{d.addEventListener(p,()=>{var P;const x=y();(P=l==null?void 0:l.error)==null||P.call(l,x),e.error(x)})};$("timeout",()=>new pt(d,g)),$("abort",()=>new J("aborted",d,g));const te=(p,y)=>new ht(y,d,g,`${p}_${y.type}`),re=(p,y,x)=>{p.addEventListener(y,P=>{e.next(te(x,P))})};D&&[B,M,le].forEach(p=>re(d.upload,p,Et)),l&&[B,M].forEach(p=>d.upload.addEventListener(p,y=>{var x;return(x=l==null?void 0:l.next)==null?void 0:x.call(l,y)})),T&&[B,M].forEach(p=>re(d,p,ae));const ne=p=>{const y="ajax error"+(p?" "+p:"");e.error(new J(y,d,g))};d.addEventListener("error",p=>{var y;(y=l==null?void 0:l.error)==null||y.call(l,p),ne()}),d.addEventListener(le,p=>{var x,P;const{status:y}=d;y<400?((x=l==null?void 0:l.complete)==null||x.call(l),e.next(te(ae,p)),e.complete()):((P=l==null?void 0:l.error)==null||P.call(l,p),ne(y))})}const{user:K,method:Q,async:z}=g;K?d.open(Q,s,z,K,g.password):d.open(Q,s,z),z&&(d.timeout=g.timeout,d.responseType=g.responseType),"withCredentials"in d&&(d.withCredentials=g.withCredentials);for(const l in a)a.hasOwnProperty(l)&&d.setRequestHeader(l,a[l]);return m?d.send(m):d.send(),()=>{d&&d.readyState!==4&&d.abort()}})}function jt(t,e){var r;if(!t||typeof t=="string"||$t(t)||Ct(t)||Tt(t)||St(t)||At(t)||Ot(t))return t;if(kt(t))return t.buffer;if(typeof t=="object")return e["content-type"]=(r=e["content-type"])!=null?r:"application/json;charset=utf-8",JSON.stringify(t);throw new TypeError("Unknown body type")}const _t=Object.prototype.toString;function Y(t,e){return _t.call(t)===`[object ${e}]`}function Tt(t){return Y(t,"ArrayBuffer")}function St(t){return Y(t,"File")}function At(t){return Y(t,"Blob")}function kt(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t)}function $t(t){return typeof FormData<"u"&&t instanceof FormData}function Ct(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function Ot(t){return typeof ReadableStream<"u"&&t instanceof ReadableStream}typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function";const Rt=t=>t&&t instanceof FormData||typeof t=="object"&&typeof t.append=="function"&&Object.prototype.toString.call(t)==="[object FormData]",E=(t,e,r)=>{r&&(t[e]=r)},Lt=t=>class extends t{constructor(){super(),this.url="",this.path="",this.body=void 0,this.async=!0,this.method="GET",this._headers={Accept:"application/json, text/plain, */*; q=0.01","Content-Type":"application/json"},this.headers=void 0,this.timeout=0,this.user="",this.password="",this.withCredentials=!1,this.xsrfCookieName="",this.xsrfHeaderName="",this.responseType="",this.queryParams=void 0,this.includeDownloadProgress=!1,this.includeUploadProgress=!1}_assignAjaxRxjsConfig(){const r={url:this._joinUrlData(),async:this.async,method:this.method,timeout:this.timeout,withCredentials:this.withCredentials,includeDownloadProgress:this.includeDownloadProgress,includeUploadProgress:this.includeUploadProgress};return E(r,"body",this.body),E(r,"headers",this._joinHeaders(this.body)),E(r,"user",this.user),E(r,"password",this.password),E(r,"xsrfCookieName",this.xsrfHeaderName),E(r,"xsrfHeaderName",this.xsrfHeaderName),E(r,"responseType",this.responseType),E(r,"queryParams",this.queryParams),r}_joinUrlData(){return typeof this.url=="string"&&typeof this.path=="string"?this.url.length&&this.path.length?`${this.url}/${this.path}`:this.url:""}_joinHeaders(r){const n={...this._headers,...this.headers||{}};return Rt(r)&&!this.avoidBoundary&&delete n["Content-Type"],n}_dispatchEvent(r,n){if(this.dispatchEventContext){const i=new CustomEvent(`${this.customEventPrefix}${r}`,{bubbles:!0,composed:!0,detail:n});this.dispatchEventContext.dispatchEvent(i)}}async generateRequest(){this._dispatchEvent("presend",!0);const r=await ut(j(this._assignAjaxRxjsConfig()).pipe(ft(n=>{const i={type:n.type,loaded:n.loaded,total:n.total};this._dispatchEvent("progress",i)}),be(n=>(this._dispatchEvent("error",n),this._dispatchEvent("errorend",!0),this.lastError=n,Promise.reject(n)))));return this._dispatchEvent("response",r),this._dispatchEvent("responseend",!0),this.lastResponse=r,r}},zt=Le(Lt);class Ht extends zt(EventTarget){constructor(e={}){super(),this.dispatchEventContext=this,this.lastResponse=void 0,this.lastError=void 0,this.customEventPrefix="ajax",this.avoidBoundary=!1,this._assignAjaxProviderConfig(e)}_assignAjaxProviderConfig(e){e&&typeof e=="object"&&Object.assign(this,e)}}export{Ht as A};
