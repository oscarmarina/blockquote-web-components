const de=new WeakMap;function ge(e,r){let t=r;for(;t;){if(de.get(t)===e)return!0;t=Object.getPrototypeOf(t)}return!1}function Pe(e){return r=>{if(ge(e,r))return r;const t=e(r);return de.set(t,e),t}}var F=function(e,r){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},F(e,r)};function X(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");F(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var O=function(){return O=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},O.apply(this,arguments)};function je(e,r,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function c(f){try{u(n.next(f))}catch(h){a(h)}}function s(f){try{u(n.throw(f))}catch(h){a(h)}}function u(f){f.done?o(f.value):i(f.value).then(c,s)}u((n=n.apply(e,r||[])).next())})}function he(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(u){return function(f){return s([u,f])}}function s(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(t=0)),t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(e,t)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function R(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function B(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o}function G(e,r,t){if(t||arguments.length===2)for(var n=0,i=r.length,o;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}function T(e){return this instanceof T?(this.v=e,this):new T(e)}function Ae(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(e,r||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(l){return function(E){return Promise.resolve(E).then(l,h)}}function c(l,E){n[l]&&(i[l]=function(m){return new Promise(function(_,I){o.push([l,m,_,I])>1||s(l,m)})},E&&(i[l]=E(i[l])))}function s(l,E){try{u(n[l](E))}catch(m){b(o[0][3],m)}}function u(l){l.value instanceof T?Promise.resolve(l.value.v).then(f,h):b(o[0][2],l)}function f(l){s("next",l)}function h(l){s("throw",l)}function b(l,E){l(E),o.shift(),o.length&&s(o[0][0],o[0][1])}}function Te(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof R=="function"?R(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=e[o]&&function(a){return new Promise(function(c,s){a=e[o](a),i(c,s,a.done,a.value)})}}function i(o,a,c,s){Promise.resolve(s).then(function(u){o({value:u,done:c})},a)}}function w(e){return typeof e=="function"}function $(e){var r=function(n){Error.call(n),n.stack=new Error().stack},t=e(r);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var k=$(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function ae(e,r){if(e){var t=e.indexOf(r);0<=t&&e.splice(t,1)}}var V=(function(){function e(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var r,t,n,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var c=R(a),s=c.next();!s.done;s=c.next()){var u=s.value;u.remove(this)}}catch(m){r={error:m}}finally{try{s&&!s.done&&(t=c.return)&&t.call(c)}finally{if(r)throw r.error}}else a.remove(this);var f=this.initialTeardown;if(w(f))try{f()}catch(m){o=m instanceof k?m.errors:[m]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var b=R(h),l=b.next();!l.done;l=b.next()){var E=l.value;try{se(E)}catch(m){o=o!=null?o:[],m instanceof k?o=G(G([],B(o)),B(m.errors)):o.push(m)}}}catch(m){n={error:m}}finally{try{l&&!l.done&&(i=b.return)&&i.call(b)}finally{if(n)throw n.error}}}if(o)throw new k(o)}},e.prototype.add=function(r){var t;if(r&&r!==this)if(this.closed)se(r);else{if(r instanceof e){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(r)}},e.prototype._hasParent=function(r){var t=this._parentage;return t===r||Array.isArray(t)&&t.includes(r)},e.prototype._addParent=function(r){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(r),t):t?[t,r]:r},e.prototype._removeParent=function(r){var t=this._parentage;t===r?this._parentage=null:Array.isArray(t)&&ae(t,r)},e.prototype.remove=function(r){var t=this._finalizers;t&&ae(t,r),r instanceof e&&r._removeParent(this)},e.EMPTY=(function(){var r=new e;return r.closed=!0,r})(),e})();V.EMPTY;function pe(e){return e instanceof V||e&&"closed"in e&&w(e.remove)&&w(e.add)&&w(e.unsubscribe)}function se(e){w(e)?e():e.unsubscribe()}var Oe={Promise:void 0},Re={setTimeout:function(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return setTimeout.apply(void 0,G([e,r],B(t)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function ve(e){Re.setTimeout(function(){throw e})}function ue(){}function _e(e){e()}var N=(function(e){X(r,e);function r(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,pe(t)&&t.add(n)):n.destination=Ue,n}return r.create=function(t,n,i){return new M(t,n,i)},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r})(V),Ie=(function(){function e(r){this.partialObserver=r}return e.prototype.next=function(r){var t=this.partialObserver;if(t.next)try{t.next(r)}catch(n){L(n)}},e.prototype.error=function(r){var t=this.partialObserver;if(t.error)try{t.error(r)}catch(n){L(n)}else L(r)},e.prototype.complete=function(){var r=this.partialObserver;if(r.complete)try{r.complete()}catch(t){L(t)}},e})(),M=(function(e){X(r,e);function r(t,n,i){var o=e.call(this)||this,a;return w(t)||!t?a={next:t!=null?t:void 0,error:n!=null?n:void 0,complete:i!=null?i:void 0}:a=t,o.destination=new Ie(a),o}return r})(N);function L(e){ve(e)}function Le(e){throw e}var Ue={closed:!0,next:ue,error:Le,complete:ue},Y=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})();function ye(e){return e}function Ce(e){return e.length===0?ye:e.length===1?e[0]:function(t){return e.reduce(function(n,i){return i(n)},t)}}var j=(function(){function e(r){r&&(this._subscribe=r)}return e.prototype.lift=function(r){var t=new e;return t.source=this,t.operator=r,t},e.prototype.subscribe=function(r,t,n){var i=this,o=ke(r)?r:new M(r,t,n);return _e(function(){var a=i,c=a.operator,s=a.source;o.add(c?c.call(o,s):s?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(t){r.error(t)}},e.prototype.forEach=function(r,t){var n=this;return t=ce(t),new t(function(i,o){var a=new M({next:function(c){try{r(c)}catch(s){o(s),a.unsubscribe()}},error:o,complete:i});n.subscribe(a)})},e.prototype._subscribe=function(r){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(r)},e.prototype[Y]=function(){return this},e.prototype.pipe=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return Ce(r)(this)},e.prototype.toPromise=function(r){var t=this;return r=ce(r),new r(function(n,i){var o;t.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},e.create=function(r){return new e(r)},e})();function ce(e){var r;return(r=e!=null?e:Oe.Promise)!==null&&r!==void 0?r:Promise}function De(e){return e&&w(e.next)&&w(e.error)&&w(e.complete)}function ke(e){return e&&e instanceof N||De(e)&&pe(e)}function He(e){return w(e==null?void 0:e.lift)}function J(e){return function(r){if(He(r))return r.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function W(e,r,t,n,i){return new qe(e,r,t,n,i)}var qe=(function(e){X(r,e);function r(t,n,i,o,a,c){var s=e.call(this,t)||this;return s.onFinalize=a,s.shouldUnsubscribe=c,s._next=n?function(u){try{n(u)}catch(f){t.error(f)}}:e.prototype._next,s._error=o?function(u){try{o(u)}catch(f){t.error(f)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=i?function(){try{i()}catch(u){t.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,s}return r.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},r})(N),Fe=(function(e){return e&&typeof e.length=="number"&&typeof e!="function"});function Be(e){return w(e==null?void 0:e.then)}function Ge(e){return w(e[Y])}function Me(e){return Symbol.asyncIterator&&w(e==null?void 0:e[Symbol.asyncIterator])}function Xe(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function $e(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ve=$e();function Ne(e){return w(e==null?void 0:e[Ve])}function Ye(e){return Ae(this,arguments,function(){var t,n,i,o;return he(this,function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,T(t.read())];case 3:return n=a.sent(),i=n.value,o=n.done,o?[4,T(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,T(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function Je(e){return w(e==null?void 0:e.getReader)}function We(e){if(e instanceof j)return e;if(e!=null){if(Ge(e))return ze(e);if(Fe(e))return Ke(e);if(Be(e))return Qe(e);if(Me(e))return me(e);if(Ne(e))return Ze(e);if(Je(e))return et(e)}throw Xe(e)}function ze(e){return new j(function(r){var t=e[Y]();if(w(t.subscribe))return t.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ke(e){return new j(function(r){for(var t=0;t<e.length&&!r.closed;t++)r.next(e[t]);r.complete()})}function Qe(e){return new j(function(r){e.then(function(t){r.closed||(r.next(t),r.complete())},function(t){return r.error(t)}).then(null,ve)})}function Ze(e){return new j(function(r){var t,n;try{for(var i=R(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(r.next(a),r.closed)return}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}r.complete()})}function me(e){return new j(function(r){tt(e,r).catch(function(t){return r.error(t)})})}function et(e){return me(Ye(e))}function tt(e,r){var t,n,i,o;return je(this,void 0,void 0,function(){var a,c;return he(this,function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),t=Te(e),s.label=1;case 1:return[4,t.next()];case 2:if(n=s.sent(),!!n.done)return[3,4];if(a=n.value,r.next(a),r.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=s.sent(),i={error:c},[3,11];case 6:return s.trys.push([6,,9,10]),n&&!n.done&&(o=t.return)?[4,o.call(t)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}})})}var rt=$(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function nt(e,r){return new Promise(function(t,n){var i=!1,o;e.subscribe({next:function(a){o=a,i=!0},error:n,complete:function(){i?t(o):n(new rt)}})})}function ot(e,r){return J(function(t,n){var i=0;t.subscribe(W(n,function(o){n.next(e.call(r,o,i++))}))})}function be(e){return J(function(r,t){var n=null,i=!1,o;n=r.subscribe(W(t,void 0,void 0,function(a){o=We(e(a,be(e)(r))),n?(n.unsubscribe(),n=null,o.subscribe(t)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(t))})}function it(e,r,t){var n=w(e)||r||t?{next:e,error:r,complete:t}:e;return n?J(function(i,o){var a;(a=n.subscribe)===null||a===void 0||a.call(n);var c=!0;i.subscribe(W(o,function(s){var u;(u=n.next)===null||u===void 0||u.call(n,s),o.next(s)},function(){var s;c=!1,(s=n.complete)===null||s===void 0||s.call(n),o.complete()},function(s){var u;c=!1,(u=n.error)===null||u===void 0||u.call(n,s),o.error(s)},function(){var s,u;c&&((s=n.unsubscribe)===null||s===void 0||s.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):ye}function we(e){switch(e.responseType){case"json":{if("response"in e)return e.response;var r=e;return JSON.parse(r.responseText)}case"document":return e.responseXML;default:{if("response"in e)return e.response;var r=e;return r.responseText}}}var at=(function(){function e(r,t,n,i){i===void 0&&(i="download_load"),this.originalEvent=r,this.xhr=t,this.request=n,this.type=i;var o=t.status,a=t.responseType;this.status=o!=null?o:0,this.responseType=a!=null?a:"";var c=t.getAllResponseHeaders();this.responseHeaders=c?c.split(`
`).reduce(function(f,h){var b=h.indexOf(": ");return f[h.slice(0,b)]=h.slice(b+2),f},{}):{},this.response=we(t);var s=r.loaded,u=r.total;this.loaded=s,this.total=u}return e})(),U=$(function(e){return function(t,n,i){this.message=t,this.name="AjaxError",this.xhr=n,this.request=i,this.status=n.status,this.responseType=n.responseType;var o;try{o=we(n)}catch{o=n.responseText}this.response=o}}),st=(function(){function e(r,t){return U.call(this,"ajax timeout",r,t),this.name="AjaxTimeoutError",this}return e.prototype=Object.create(U.prototype),e})();function ut(e,r){return A({method:"GET",url:e,headers:r})}function ct(e,r,t){return A({method:"POST",url:e,body:r,headers:t})}function lt(e,r){return A({method:"DELETE",url:e,headers:r})}function ft(e,r,t){return A({method:"PUT",url:e,body:r,headers:t})}function dt(e,r,t){return A({method:"PATCH",url:e,body:r,headers:t})}var ht=ot(function(e){return e.response});function pt(e,r){return ht(A({method:"GET",url:e,headers:r}))}var A=(function(){var e=function(r){var t=typeof r=="string"?{url:r}:r;return yt(t)};return e.get=ut,e.post=ct,e.delete=lt,e.put=ft,e.patch=dt,e.getJSON=pt,e})(),vt="upload",le="download",H="loadstart",q="progress",fe="load";function yt(e){return new j(function(r){var t,n,i=O({async:!0,crossDomain:!1,withCredentials:!1,method:"GET",timeout:0,responseType:"json"},e),o=i.queryParams,a=i.body,c=i.headers,s=i.url;if(!s)throw new TypeError("url is required");if(o){var u;if(s.includes("?")){var f=s.split("?");if(2<f.length)throw new TypeError("invalid url");u=new URLSearchParams(f[1]),new URLSearchParams(o).forEach(function(v,y){return u.set(y,v)}),s=f[0]+"?"+u}else u=new URLSearchParams(o),s=s+"?"+u}var h={};if(c)for(var b in c)c.hasOwnProperty(b)&&(h[b.toLowerCase()]=c[b]);var l=i.crossDomain;!l&&!("x-requested-with"in h)&&(h["x-requested-with"]="XMLHttpRequest");var E=i.withCredentials,m=i.xsrfCookieName,_=i.xsrfHeaderName;if((E||!l)&&m&&_){var I=(n=(t=document==null?void 0:document.cookie.match(new RegExp("(^|;\\s*)("+m+")=([^;]*)")))===null||t===void 0?void 0:t.pop())!==null&&n!==void 0?n:"";I&&(h[_]=I)}var C=mt(a,h),S=O(O({},i),{url:s,headers:h,body:C}),d;d=e.createXHR?e.createXHR():new XMLHttpRequest;{var p=e.progressSubscriber,K=e.includeDownloadProgress,xe=K===void 0?!1:K,Q=e.includeUploadProgress,Ee=Q===void 0?!1:Q,Z=function(v,y){d.addEventListener(v,function(){var x,P=y();(x=p==null?void 0:p.error)===null||x===void 0||x.call(p,P),r.error(P)})};Z("timeout",function(){return new st(d,S)}),Z("abort",function(){return new U("aborted",d,S)});var ee=function(v,y){return new at(y,d,S,v+"_"+y.type)},te=function(v,y,x){v.addEventListener(y,function(P){r.next(ee(x,P))})};Ee&&[H,q,fe].forEach(function(v){return te(d.upload,v,vt)}),p&&[H,q].forEach(function(v){return d.upload.addEventListener(v,function(y){var x;return(x=p==null?void 0:p.next)===null||x===void 0?void 0:x.call(p,y)})}),xe&&[H,q].forEach(function(v){return te(d,v,le)});var re=function(v){var y="ajax error"+(v?" "+v:"");r.error(new U(y,d,S))};d.addEventListener("error",function(v){var y;(y=p==null?void 0:p.error)===null||y===void 0||y.call(p,v),re()}),d.addEventListener(fe,function(v){var y,x,P=d.status;if(P<400){(y=p==null?void 0:p.complete)===null||y===void 0||y.call(p);var ie=void 0;try{ie=ee(le,v)}catch(Se){r.error(Se);return}r.next(ie),r.complete()}else(x=p==null?void 0:p.error)===null||x===void 0||x.call(p,v),re(P)})}var ne=S.user,oe=S.method,D=S.async;ne?d.open(oe,s,D,ne,S.password):d.open(oe,s,D),D&&(d.timeout=S.timeout,d.responseType=S.responseType),"withCredentials"in d&&(d.withCredentials=S.withCredentials);for(var b in h)h.hasOwnProperty(b)&&d.setRequestHeader(b,h[b]);return C?d.send(C):d.send(),function(){d&&d.readyState!==4&&d.abort()}})}function mt(e,r){var t;if(!e||typeof e=="string"||gt(e)||Pt(e)||wt(e)||xt(e)||Et(e)||jt(e))return e;if(St(e))return e.buffer;if(typeof e=="object")return r["content-type"]=(t=r["content-type"])!==null&&t!==void 0?t:"application/json;charset=utf-8",JSON.stringify(e);throw new TypeError("Unknown body type")}var bt=Object.prototype.toString;function z(e,r){return bt.call(e)==="[object "+r+"]"}function wt(e){return z(e,"ArrayBuffer")}function xt(e){return z(e,"File")}function Et(e){return z(e,"Blob")}function St(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)}function gt(e){return typeof FormData<"u"&&e instanceof FormData}function Pt(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}function jt(e){return typeof ReadableStream<"u"&&e instanceof ReadableStream}typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self.importScripts;const At=e=>e&&e instanceof FormData||typeof e=="object"&&typeof e.append=="function"&&Object.prototype.toString.call(e)==="[object FormData]",g=(e,r,t)=>{t&&(e[r]=t)},Tt=e=>class extends e{constructor(){super(),this.url="",this.path="",this.body=void 0,this.async=!0,this.method="GET",this._headers={Accept:"application/json, text/plain, */*; q=0.01","Content-Type":"application/json"},this.headers=void 0,this.timeout=0,this.user="",this.password="",this.withCredentials=!1,this.xsrfCookieName="",this.xsrfHeaderName="",this.responseType="",this.queryParams=void 0,this.includeDownloadProgress=!1,this.includeUploadProgress=!1}_assignAjaxRxjsConfig(){const t={url:this._joinUrlData(),async:this.async,method:this.method,timeout:this.timeout,withCredentials:this.withCredentials,includeDownloadProgress:this.includeDownloadProgress,includeUploadProgress:this.includeUploadProgress};return g(t,"body",this.body),g(t,"headers",this._joinHeaders(this.body)),g(t,"user",this.user),g(t,"password",this.password),g(t,"xsrfCookieName",this.xsrfHeaderName),g(t,"xsrfHeaderName",this.xsrfHeaderName),g(t,"responseType",this.responseType),g(t,"queryParams",this.queryParams),t}_joinUrlData(){return typeof this.url=="string"&&typeof this.path=="string"?this.url.length&&this.path.length?`${this.url}/${this.path}`:this.url:""}_joinHeaders(t){const n={...this._headers,...this.headers||{}};return At(t)&&!this.avoidBoundary&&delete n["Content-Type"],n}_dispatchEvent(t,n){if(this.dispatchEventContext){const i=new CustomEvent(`${this.customEventPrefix}${t}`,{bubbles:!0,composed:!0,detail:n});this.dispatchEventContext.dispatchEvent(i)}}async generateRequest(){this._dispatchEvent("presend",!0);const t=await nt(A(this._assignAjaxRxjsConfig()).pipe(it(n=>{const i={type:n.type,loaded:n.loaded,total:n.total};this._dispatchEvent("progress",i)}),be(n=>(this._dispatchEvent("error",n),this._dispatchEvent("errorend",!0),this.lastError=n,Promise.reject(n)))));return this._dispatchEvent("response",t),this._dispatchEvent("responseend",!0),this.lastResponse=t,t}},Ot=Pe(Tt);class _t extends Ot(EventTarget){constructor(r={}){super(),this.dispatchEventContext=this,this.lastResponse=void 0,this.lastError=void 0,this.customEventPrefix="ajax",this.avoidBoundary=!1,this._assignAjaxProviderConfig(r)}_assignAjaxProviderConfig(r){r&&typeof r=="object"&&Object.assign(this,r)}}export{_t as A};
