var v=Object.defineProperty;var y=(e,t,s)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var h=(e,t,s)=>y(e,typeof t!="symbol"?t+"":t,s);const u=new WeakMap;function b(e,t){let s=t;for(;s;){if(u.get(s)===e)return!0;s=Object.getPrototypeOf(s)}return!1}function w(e){return t=>{if(b(e,t))return t;const s=e(t);return u.set(s,e),s}}const x=e=>{var t;return!/[^\t\n\r ]/.test((t=e==null?void 0:e.textContent)!=null?t:"")},B=e=>e.nodeType===8||e.nodeType===3&&x(e),E=e=>class extends e{constructor(){super(...arguments);h(this,"_onSlotChange",o=>{var g;const{target:C}=o,a=C;if(!a)return;const N=a.name||a.getAttribute("name")||"",d=[...a.assignedNodes(),...a.childNodes],f=a.assignedNodes({flatten:!0}),l=[];d.length&&d.forEach(n=>{var r;B(n)||l.push({flatten:n.assignedSlot===null,assignedNodes:n.nodeType===3?(r=n.textContent)==null?void 0:r.trim():n,assignedSlot:n.assignedSlot})});const i=l.filter(n=>n.flatten===!1),c=l.filter(n=>n.flatten===!0),p={assignedNodesByNode:i,assignedNodes:i.map(n=>n.assignedNodes)},S={assignedNodesByNode:c,assignedNodes:c.map(n=>n.assignedNodes)},k={slotName:N,assignedSlot:((g=i[0])==null?void 0:g.assignedSlot)||null},m=new CustomEvent("slotchanges",{composed:!0,detail:{assignedSlotContent:k,assignedNodesContent:p,flattenedNodesContent:S,originalEvent:{event:o,assignedNodes:f}}});this.shadowRoot.dispatchEvent(m)})}connectedCallback(){var o;(o=super.connectedCallback)==null||o.call(this),this.shadowRoot.addEventListener("slotchange",this._onSlotChange)}disconnectedCallback(){var o;(o=super.disconnectedCallback)==null||o.call(this),this.shadowRoot.removeEventListener("slotchange",this._onSlotChange)}},A=w(E);export{A as B};
