var y=Object.defineProperty;var m=(e,t,s)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var u=(e,t,s)=>m(e,typeof t!="symbol"?t+"":t,s);const N=new WeakMap;function x(e,t){let s=t;for(;s;){if(N.get(s)===e)return!0;s=Object.getPrototypeOf(s)}return!1}function B(e){return t=>{if(x(e,t))return t;const s=e(t);return N.set(s,e),s}}const v=e=>!/[^\t\n\r ]/.test(e.textContent),w=e=>e.nodeType===8||e.nodeType===3&&v(e),E=e=>class extends e{constructor(){super(...arguments);u(this,"_onSlotChange",i=>{var g;const{target:f}=i,o=f;if(!o)return;const C=o.name||o.getAttribute("name")||"",d=[...o.assignedNodes(),...o.childNodes],h=o.assignedNodes({flatten:!0}),a=[];d.length&&d.forEach(n=>{var r;w(n)||a.push({flatten:n.assignedSlot===null,assignedNodes:n.nodeType===3?(r=n.textContent)==null?void 0:r.trim():n,assignedSlot:n.assignedSlot})});const l=a.filter(n=>n.flatten===!1),c=a.filter(n=>n.flatten===!0),p={assignedNodesByNode:l,assignedNodes:l.map(n=>n.assignedNodes)},S={assignedNodesByNode:c,assignedNodes:c.map(n=>n.assignedNodes)},b={slotName:C,assignedSlot:((g=l[0])==null?void 0:g.assignedSlot)||null},k=new CustomEvent("slotchanges",{bubbles:!0,detail:{assignedSlotContent:b,assignedNodesContent:p,flattenedNodesContent:S,originalEvent:{event:i,assignedNodes:h}}});this.shadowRoot.dispatchEvent(k)})}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this.shadowRoot.addEventListener("slotchange",this._onSlotChange)}},A=B(E);export{A as B};
