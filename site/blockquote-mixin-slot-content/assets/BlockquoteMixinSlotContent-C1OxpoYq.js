var k=Object.defineProperty;var x=(e,t,s)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var u=(e,t,s)=>x(e,typeof t!="symbol"?t+"":t,s);const N=new WeakMap;function B(e,t){let s=t;for(;s;){if(N.get(s)===e)return!0;s=Object.getPrototypeOf(s)}return!1}function v(e){return t=>{if(B(e,t))return t;const s=e(t);return N.set(s,e),s}}const w=e=>{var t;return!/[^\t\n\r ]/.test((t=e==null?void 0:e.textContent)!=null?t:"")},b=e=>e.nodeType===8||e.nodeType===3&&w(e),E=e=>class extends e{constructor(){super(...arguments);u(this,"_onSlotChange",a=>{var g;const{target:f}=a,o=f;if(!o)return;const h=o.name||o.getAttribute("name")||"",d=[...o.assignedNodes(),...o.childNodes],C=o.assignedNodes({flatten:!0}),i=[];d.length&&d.forEach(n=>{var r;b(n)||i.push({flatten:n.assignedSlot===null,assignedNodes:n.nodeType===3?(r=n.textContent)==null?void 0:r.trim():n,assignedSlot:n.assignedSlot})});const l=i.filter(n=>n.flatten===!1),c=i.filter(n=>n.flatten===!0),p={assignedNodesByNode:l,assignedNodes:l.map(n=>n.assignedNodes)},S={assignedNodesByNode:c,assignedNodes:c.map(n=>n.assignedNodes)},m={slotName:h,assignedSlot:((g=l[0])==null?void 0:g.assignedSlot)||null},y=new CustomEvent("slotchanges",{composed:!0,detail:{assignedSlotContent:m,assignedNodesContent:p,flattenedNodesContent:S,originalEvent:{event:a,assignedNodes:C}}});this.shadowRoot.dispatchEvent(y)})}connectedCallback(){var a;(a=super.connectedCallback)==null||a.call(this),this.shadowRoot.addEventListener("slotchange",this._onSlotChange)}},A=v(E);export{A as B};
