var q=Object.defineProperty;var Y=(e,r,t)=>r in e?q(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var o=(e,r,t)=>(Y(e,typeof r!="symbol"?r+"":r,t),t);import{s as B,x as D}from"./lit-element-cJxZ_urQ.js";function l(e){return typeof e=="function"}class v extends Error{constructor(t){super(t?`${t.length} errors occurred during unsubscription:
${t.map((n,s)=>`${s+1}) ${n.toString()}`).join(`
  `)}`:"");o(this,"errors");this.errors=t,this.name="UnsubscriptionError"}}const _=class _{constructor(r){o(this,"initialTeardown");o(this,"closed",!1);o(this,"_finalizers",null);this.initialTeardown=r}unsubscribe(){let r;if(!this.closed){this.closed=!0;const{initialTeardown:t}=this;if(l(t))try{t()}catch(s){r=s instanceof v?s.errors:[s]}const{_finalizers:n}=this;if(n){this._finalizers=null;for(const s of n)try{I(s)}catch(i){r=r!=null?r:[],i instanceof v?r.push(...i.errors):r.push(i)}}if(r)throw new v(r)}}add(r){var t;r&&r!==this&&(this.closed?I(r):(r&&"add"in r&&r.add(()=>{this.remove(r)}),(t=this._finalizers)!=null||(this._finalizers=new Set),this._finalizers.add(r)))}remove(r){var t;(t=this._finalizers)==null||t.delete(r)}};o(_,"EMPTY",(()=>{const r=new _;return r.closed=!0,r})());let f=_;typeof Symbol.dispose=="symbol"&&(f.prototype[Symbol.dispose]=f.prototype.unsubscribe);function I(e){l(e)?e():e.unsubscribe()}const L={onUnhandledError:null,onStoppedNotification:null},y={setTimeout(e,r,...t){const{delegate:n}=y;return n!=null&&n.setTimeout?n.setTimeout(e,r,...t):setTimeout(e,r,...t)},clearTimeout(e){const{delegate:r}=y;return((r==null?void 0:r.clearTimeout)||clearTimeout)(e)},delegate:void 0};function b(e){y.setTimeout(()=>{const{onUnhandledError:r}=L;if(r)r(e);else throw e})}const j=x("C",void 0,void 0);function G(e){return x("E",void 0,e)}function J(e){return x("N",e,void 0)}function x(e,r,t){return{kind:e,value:r,error:t}}class d extends f{constructor(t,n){var s,i,c,u;super();o(this,"isStopped",!1);o(this,"destination");o(this,"_nextOverride",null);o(this,"_errorOverride",null);o(this,"_completeOverride",null);o(this,"_onFinalize",null);this.destination=t instanceof d?t:W(t),this._nextOverride=(s=n==null?void 0:n.next)!=null?s:null,this._errorOverride=(i=n==null?void 0:n.error)!=null?i:null,this._completeOverride=(c=n==null?void 0:n.complete)!=null?c:null,this._onFinalize=(u=n==null?void 0:n.finalize)!=null?u:null,this._next=this._nextOverride?Q:this._next,this._error=this._errorOverride?V:this._error,this._complete=this._completeOverride?H:this._complete,X(t)&&t.add(this)}next(t){this.isStopped?w(J(t),this):this._next(t)}error(t){this.isStopped?w(G(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?w(j,this):(this.isStopped=!0,this._complete())}unsubscribe(){var t;this.closed||(this.isStopped=!0,super.unsubscribe(),(t=this._onFinalize)==null||t.call(this))}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}function Q(e){try{this._nextOverride(e)}catch(r){this.destination.error(r)}}function V(e){try{this._errorOverride(e)}catch(r){this.destination.error(r)}finally{this.unsubscribe()}}function H(){try{this._completeOverride()}catch(e){this.destination.error(e)}finally{this.unsubscribe()}}class N{constructor(r){o(this,"partialObserver");this.partialObserver=r}next(r){const{partialObserver:t}=this;if(t.next)try{t.next(r)}catch(n){b(n)}}error(r){const{partialObserver:t}=this;if(t.error)try{t.error(r)}catch(n){b(n)}else b(r)}complete(){const{partialObserver:r}=this;if(r.complete)try{r.complete()}catch(t){b(t)}}}function W(e){return new N(!e||l(e)?{next:e!=null?e:void 0}:e)}function w(e,r){const{onStoppedNotification:t}=L;t&&y.setTimeout(()=>t(e,r))}function X(e){return e&&l(e.unsubscribe)&&l(e.add)}function z({destination:e,...r}){return new d(e,r)}const O=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Z(e){return e}function K(e){return e.length===0?Z:e.length===1?e[0]:function(t){return e.reduce((n,s)=>s(n),t)}}class a{constructor(r){r&&(this._subscribe=r)}subscribe(r){const t=r instanceof d?r:new d(r);return t.add(this._trySubscribe(t)),t}_trySubscribe(r){try{return this._subscribe(r)}catch(t){r.error(t)}}forEach(r){return new Promise((t,n)=>{const s=new d({next:i=>{try{r(i)}catch(c){n(c),s.unsubscribe()}},error:n,complete:t});this.subscribe(s)})}_subscribe(r){}[O](){return this}pipe(...r){return K(r)(this)}[Symbol.asyncIterator](){let r,t=!1,n,s=!1;const i=[],c=[],u=h=>{for(t=!0,n=h;c.length;){const[p,$]=c.shift();$(h)}},m=()=>{for(s=!0;c.length;){const[h]=c.shift();h({value:void 0,done:!0})}};return{next:()=>(r||(r=this.subscribe({next:h=>{if(c.length){const[p]=c.shift();p({value:h,done:!1})}else i.push(h)},error:u,complete:m})),i.length?Promise.resolve({value:i.shift(),done:!1}):s?Promise.resolve({value:void 0,done:!0}):t?Promise.reject(n):new Promise((h,p)=>{c.push([h,p])})),throw:h=>(r==null||r.unsubscribe(),u(h),Promise.reject(h)),return:()=>(r==null||r.unsubscribe(),m(),Promise.resolve({value:void 0,done:!0})),[Symbol.asyncIterator](){return this}}}}class T extends a{constructor(){super();o(this,"_closed",!1);o(this,"_observerCounter",0);o(this,"currentObservers",new Map);o(this,"observerSnapshot");o(this,"hasError",!1);o(this,"thrownError",null)}get closed(){return this._closed}get observers(){var t;return(t=this.observerSnapshot)!=null?t:this.observerSnapshot=Array.from(this.currentObservers.values())}_clearObservers(){this.currentObservers.clear(),this.observerSnapshot=void 0}next(t){if(!this._closed){const{observers:n}=this,s=n.length;for(let i=0;i<s;i++)n[i].next(t)}}error(t){if(!this._closed){this.hasError=this._closed=!0,this.thrownError=t;const{observers:n}=this,s=n.length;for(let i=0;i<s;i++)n[i].error(t);this._clearObservers()}}complete(){if(!this._closed){this._closed=!0;const{observers:t}=this,n=t.length;for(let s=0;s<n;s++)t[s].complete();this._clearObservers()}}unsubscribe(){this._closed=!0,this._clearObservers()}get observed(){return this.currentObservers.size>0}_subscribe(t){return this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){if(this.hasError||this._closed)return f.EMPTY;const{currentObservers:n}=this,s=this._observerCounter++;return n.set(s,t),this.observerSnapshot=void 0,t.add(()=>{n.delete(s),this.observerSnapshot=void 0}),t}_checkFinalizedStatuses(t){const{hasError:n,thrownError:s,_closed:i}=this;n?t.error(s):i&&t.complete()}asObservable(){return new a(t=>this.subscribe(t))}}o(T,"create",(t,n)=>new ee(t,n));class ee extends T{constructor(t,n){super();o(this,"destination");o(this,"_source");this.destination=t,this._source=n}next(t){var n,s;(s=(n=this.destination)==null?void 0:n.next)==null||s.call(n,t)}error(t){var n,s;(s=(n=this.destination)==null?void 0:n.error)==null||s.call(n,t)}complete(){var t,n;(n=(t=this.destination)==null?void 0:t.complete)==null||n.call(t)}_subscribe(t){var n,s;return(s=(n=this._source)==null?void 0:n.subscribe(t))!=null?s:f.EMPTY}}const g=e=>e&&typeof e.length=="number"&&typeof e!="function";function te(e){return l(e==null?void 0:e.then)}function re(e){return l(e[O])}function ne(e){return Symbol.asyncIterator&&l(e==null?void 0:e[Symbol.asyncIterator])}function se(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ie(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}const oe=ie();function ce(e){return l(e==null?void 0:e[oe])}async function*le(e){const r=e.getReader();try{for(;;){const{value:t,done:n}=await r.read();if(n)return;yield t}}finally{r.releaseLock()}}function ue(e){return l(e==null?void 0:e.getReader)}function he(e){if(e instanceof a)return e;if(e!=null){if(re(e))return ae(e);if(g(e))return fe(e);if(te(e))return de(e);if(ne(e))return k(e);if(ce(e))return be(e);if(ue(e))return me(e)}throw se(e)}function ae(e){return new a(r=>{const t=e[O]();if(l(t.subscribe))return t.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fe(e){return new a(r=>{ye(e,r)})}function de(e){return new a(r=>{e.then(t=>{r.closed||(r.next(t),r.complete())},t=>r.error(t)).then(null,b)})}function be(e){return new a(r=>{for(const t of e)if(r.next(t),r.closed)return;r.complete()})}function k(e){return new a(r=>{pe(e,r).catch(t=>r.error(t))})}function me(e){return k(le(e))}async function pe(e,r){for await(const t of e)if(r.next(t),r.closed)return;r.complete()}function ye(e,r){const t=e.length;for(let n=0;n<t;n++){if(r.closed)return;r.next(e[n])}r.complete()}function _e(){}function ve(e){return!!e&&(e instanceof a||l(e.lift)&&l(e.subscribe))}function C(e){return r=>new a(t=>{let n=0;r.subscribe(z({destination:t,next:s=>{t.next(e(s,n++))}}))})}const{isArray:we}=Array;function Ee(e,r){return we(r)?e(...r):e(r)}function Se(e){return C(r=>Ee(e,r))}const xe=["addListener","removeListener"],Oe=["addEventListener","removeEventListener"],Te=["on","off"];function M(e,r,t,n){if(l(t)&&(n=t,t=void 0),n)return M(e,r,t).pipe(Se(n));const s=F(e)||R(e)||U(e);if(!s&&!g(e))throw new TypeError("Invalid event target");return new a(i=>{const c=(...u)=>i.next(1<u.length?u:u[0]);if(s)A(c,i,e,r,t);else for(let u=0;u<e.length&&!i.closed;u++){const m=e[u];A(c,i,m,r,t)}})}function A(e,r,t,n,s){const[i,c]=Ie(t);if(!i||!c)throw new TypeError("Invalid event target");t[i](n,e,s),r.add(()=>t[c](n,e,s))}function Ie(e){return U(e)?Oe:F(e)?xe:R(e)?Te:[]}function F(e){return l(e.addListener)&&l(e.removeListener)}function R(e){return l(e.on)&&l(e.off)}function U(e){return l(e.addEventListener)&&l(e.removeEventListener)}function Ae(e){return r=>new a(t=>{he(e).subscribe(z({destination:t,next:()=>t.complete(),complete:_e})),!t.closed&&r.subscribe(t)})}const E=Symbol("unsubscribe"),S=Symbol("subscriptions");class Pe{constructor(r){this[E]=new T,this[S]=new Map,(this.host=r).addController(this)}subscribe(r,t){var i;if(!ve(t))throw new Error("Invalid Observable!");const n=this[S].get(r);if(n){if((n==null?void 0:n.stream$)===t)return t;(i=n==null?void 0:n.subscription)==null||i.unsubscribe()}const s=t.pipe(Ae(this[E])).subscribe(c=>{r in this.host&&(this.host[r]=c),this.host.requestUpdate()});return this[S].set(r,{stream$:t,subscription:s}),t}hostDisconnected(){this[E].next(null)}}class P extends B{static get is(){return"blockquote-controller-rxjs-demo"}static get properties(){return{_pos:{type:Object,attribute:!1}}}constructor(){super(),this.rx=new Pe(this),this._pos={x:0,y:0},this.values$=M(window,"mousemove").pipe(C(({clientX:r,clientY:t})=>({x:r,y:t})))}connectedCallback(){super.connectedCallback(),this.rx.subscribe("_pos",this.values$)}render(){return D`
            <p>The mouse is at:</p>
            <pre>
              x: ${this._pos.x}
              y: ${this._pos.y}
            </pre
            >
          `}}window.customElements.define(P.is,P);
